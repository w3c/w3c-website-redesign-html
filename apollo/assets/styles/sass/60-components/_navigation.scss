/*------------------------------------*\
    #Navigation
\*------------------------------------*/

.no-js {

	[data-trigger="mobile-nav"],
	.nav__submenu {

		display: none;

	}

}

#global-nav {

	box-shadow: 0 rem(16) rem(16) 0 rgba(55,70,95,0.07);
	display: block;
	margin-top: rem(25);
	padding-bottom: rem(45);
	position: relative;

	@include mq($bp-tab-large) {

		border-bottom: solid 1px $border-color;
		box-shadow: none;
		margin-top: 0;
		padding-bottom: 0;
		position: static;

	}

	// The aria-hidden attribute is managed by JS
	&[aria-hidden="true"] {

		display: none;

	}

	&[aria-hidden="false"] {

		display: block;

	}

}

#global-nav svg {

	pointer-events: none;

}

#global-nav > ul {

	@include mq($bp-tab-large) {

		display: flex;
		flex-wrap: nowrap;
		position: relative;

	}

}

[dir="ltr"] {

	li.top-nav-item + li.top-nav-item {

		@include mq($bp-tab-large) {

			margin-left: rem(4);

		}

	}

}

[dir="rtl"] {

	li.top-nav-item + li.top-nav-item {

		@include mq($bp-tab-large) {

			margin-right: rem(4);

		}

	}

}

#global-nav .top-nav-item {

	border-bottom: solid 1px $border-color;

	@include mq($bp-tab-large) {

		border-bottom: none;

	}

}

.nav-link {

	display: block;
	padding: rem(10) 0;
	position: relative;
	text-decoration: none;

	@include mq($bp-tab-large) {

		display: inline-block;

	}

	&.icon-link {

		align-items: center;
		display: flex;
		padding: rem(14) 0;

		@include mq($bp-tab-large) {

			display: inline-flex;
			justify-content: center;
			height: 100%;
			min-width: rem(44);

		}


	}

}

#global-nav .top-nav-item > .nav-link {

	font-weight: $emphasis;

}

/* Hide for now
#global-nav > ul > li:last-child {

	@include mq($bp-tab-large) {

		display: none;

	}

	.nav-link {

		font-size: rem(14);
		font-weight: normal;

	}

	.icon {

		color: $twiki-gray;
		height: rem(24);
		width: rem(24);

	}

}
 End hide for now */

#global-nav .top-nav-item > a,
#global-nav .top-nav-item button {

	@include mq($bp-tab-large) {

		border-bottom: solid 3px transparent;
		padding: rem(10) rem(10) rem(7);
		white-space: nowrap;

		&:hover,
		&:focus,
		&.js-active {

			border-bottom-color: #0079b8;
			outline: none;

		}

	}

}

#global-nav svg {

	pointer-events: none;

}

svg.nav-small {

	margin-inline-start: auto;

	@include mq($bp-tab-large) {

		display: none;

	}

}

svg.nav-wide {

	display: none;

	@include mq($bp-tab-large) {

		display: inline;

	}

}

[dir="ltr"] {

	svg.nav-small .angle-left {

		display: none;

	}

}

[dir="rtl"] {

	svg.nav-small .angle-right {

		display: none;

	}

}

#global-nav [data-trigger="subnav"] {

	align-items: center;
	background-color: transparent;
	border-radius: 0;
	color: #111;
	display: flex;
	line-height: inherit;
	outline: solid 1px transparent;
	outline-offset: -1px;
	padding: rem(12) 0;
	width: 100%;

	@include mq($bp-tab-large) {

		display: inline-flex;

	}

	&[aria-expanded="false"] {

		@include mq($bp-tab-large) {

			.angle-up {

				display: none;

			}

		}

	}

	&[aria-expanded="true"] {

		@include mq($bp-tab-large) {

			.angle-down {

				display: none;

			}

		}

	}

}

#global-nav .nav__submenu {

	box-shadow: 0 16px 16px 0 rgba(55,70,95,0.07);
	padding-bottom: rem(45);
	padding-left: 5vw;
	padding-right: 5vw;
	width: 100%;

	@include mq($bp-tab-large) {

		border: solid 1px $border-color;
		max-width: rem(1162);
		padding: rem(20);

	}

	// The aria-hidden attribute is managed by JS
	&[aria-hidden="true"] {

		display: none;

	}

	&[aria-hidden="false"] {

		display: block;
		position: absolute;
		left: 0;
		top: 0;
		z-index: 5;

		@include mq($bp-tab-large) {

			background-color: $mist-gray;
			left: 50%;
			top: 100%;
			transform: translateX(-50%);

		}

	}

}

#global-nav [data-trigger="mobile-back"] {

	@include txt-jupiter;

	border-color: transparent transparent $border-color;
	border-radius: 0;
	padding: rem(12) 5vw;

	@include mq($bp-tab-large) {

		display: none;

	}

}

[dir="ltr"] {

	[data-trigger="mobile-back"] .angle-right {

		display: none;

	}

}

[dir="rtl"] {

	[data-trigger="mobile-back"] .angle-left {

		display: none;

	}

}

#global-nav .nav__submenu > a {

	@include txt-jupiter;

	margin-top: rem(25);
	padding-bottom: rem(6);
	padding-top: rem(6);

	@include mq($bp-tab-large) {

		margin-bottom: rem(25);
		margin-top: 0;

	}

}

#global-nav .nav__submenu > ul {

	@include mq($bp-tab-large) {

		columns: 3 rem(250);
		column-gap: rem(40);

	}

}

#global-nav .nav__submenu > ul > li {

	border-bottom: solid 1px $border-color;
	padding-bottom: rem(3);
	padding-top: rem(3);

	@include mq($bp-tab-large) {

		border-bottom: 0;
		padding-bottom: 0;
		padding-top: 0;

	}

}

#global-nav .nav__submenu > ul > li.has-children {

	@include mq($bp-tab-large) {

		break-inside: avoid;
		margin-bottom: rem(25);

		&:last-of-type {

			margin-bottom: 0;

		}

	}

}

#global-nav .nav__submenu > ul > li > a {

	@include txt-jupiter;

	font-weight: normal;
	padding-bottom: rem(6);
	padding-top: rem(6);

}

#global-nav .nav__submenu ul ul {

	margin-inline-start: rem(10);

}

#global-nav .nav__submenu .nav-link {

	&:hover {

		&::after {

			background-color: $off-black;
			bottom: 0.4em;
			content: '';
			display: block;
			height: 1px;
			left: 0;
			position: absolute;
			width: 100%;

		}

	}

}

#global-nav .nav__submenu ul ul .nav-link{

	&:hover {

		&::after {

			bottom: 0.6em;

		}

	}

}