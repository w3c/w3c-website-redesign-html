/*------------------------------------*\
    #Navigation
\*------------------------------------*/

/**
Note: aria-expanded and aria-hidden attributes are managed by JS
 */

.no-js {

	[data-trigger="mobile-nav"],
	.nav__submenu {

		display: none;

	}

	.global-nav__inner > ul {

		@include mq($max-width) {

			display: flex;

		}

	}

}

#global-nav svg {

	pointer-events: none;

}

[data-trigger="mobile-nav"] {

	font-size: rem(14);
	padding: rem(6) rem(9);

	&[aria-expanded="false"] #close-icon {

		display: none;

	}

	&[aria-expanded="true"] #menu-icon {

		display: none;

	}

	&[aria-expanded="false"] ~ .my-account--login {

		display: none;

	}

	&[aria-expanded="true"] ~ .my-account--login {

		display: flex;

	}

	@include mq($max-width) {

		display: none;

	}

}

[dir="ltr"] {

	[data-trigger="mobile-nav"] {

		margin-left: auto;

	}

	[data-trigger="account-menu"] ~ [data-trigger="mobile-nav"] {

		margin-left: rem(10);

	}

}

[dir="rtl"] {

	[data-trigger="mobile-nav"] {

		margin-right: auto;

	}

	[data-trigger="account-menu"] ~ [data-trigger="mobile-nav"] {

		margin-right: rem(10);

	}

}

#global-nav {

	align-items: center;
	border-bottom: solid 1px $border-color;
	display: block;
	padding-bottom: rem(18);
	padding-top: rem(18);
	position: relative;

	@include mq($max-width) {

		padding-bottom: 0;
		padding-top: rem(20);

	}

}

.global-nav__inner {

	align-items: center;
	display: flex;
	flex-wrap: wrap;

	@include mq($max-width) {

		align-items: flex-end;
		flex-wrap: nowrap;

	}

}

.global-nav__inner > ul {

	flex-basis: 100%;
	padding-left: 5vw;
	padding-right: 5vw;

	@include mq($max-width) {

		flex-basis: auto;
		flex-wrap: nowrap;
		padding-left: 0;
		padding-right: 0;
		position: static;

	}

	&[aria-hidden="true"] {

		display: none;

	}

	&[aria-hidden="false"] {

		display: flex;
		flex-wrap: wrap;
		left: 0;
		position: absolute;
		top: 100%;
		width: 100%;

		@include mq($max-width) {

			flex-basis: 100%;
			flex-wrap: nowrap;
			position: static;
			width: auto;

		}

	}

}

li.top-nav-item + li.top-nav-item {

	@include mq($max-width) {

		margin-inline-start: rem(4);

	}

}

.global-nav__inner > ul > li:last-child {

	@include mq($max-width) {

		margin-inline-start: auto;

	}

}

.signed-in .global-nav__inner > ul > li:last-child {

	display: none;

}

.global-nav__inner .top-nav-item {

	border-bottom: solid 1px $border-color;
	flex-basis: 100%;

	@include mq($max-width) {

		border-bottom: none;
		flex-basis: auto;

	}

}

.nav-link {

	display: block;
	padding: rem(10) 0;
	position: relative;
	text-decoration: none;

	@include mq($max-width) {

		display: inline-block;

	}

}

.global-nav__inner .top-nav-item > .nav-link {

	font-weight: $emphasis;

}

.logo-link {

	@include mq($max-width) {

		border-bottom: solid 3px transparent;
		margin-inline-end: rem(25);
		padding-bottom: rem(5);

		&:hover,
		&:focus {

			border-bottom-color: #0079b8;
			outline: none;

		}

	}

}

.icon-link {

	align-items: center;
	display: flex;
	padding: rem(14) 0;

	@include mq($max-width) {

		display: inline-flex;
		justify-content: center;
		height: 100%;
		min-width: rem(44);

	}

}

.my-account--login {

	flex-basis: 100%;
	font-size: rem(14);
	text-decoration: none;

	@include mq($max-width) {

		flex-basis: auto;
		padding-bottom: rem(10);
		padding-top: rem(10);

	}

	.icon {

		color: $twiki-gray;
		height: rem(24);
		width: rem(24);

	}

}

.global-nav__inner .top-nav-item > a,
.global-nav__inner .top-nav-item button {

	@include mq($max-width) {

		border-bottom: solid 3px transparent;
		padding: rem(10) rem(5) rem(7);
		white-space: nowrap;

		&:hover,
		&:focus,
		&.js-active {

			border-bottom-color: #0079b8;
			outline: none;

		}

	}

}

svg.nav-small {

	margin-inline-start: auto;

	@include mq($max-width) {

		display: none;

	}

}

svg.nav-wide {

	display: none;

	@include mq($max-width) {

		display: inline;

	}

}

[dir="ltr"] {

	svg.nav-small .angle-left {

		display: none;

	}

}

[dir="rtl"] {

	svg.nav-small .angle-right {

		display: none;

	}

}

.global-nav__inner [data-trigger="subnav"] {

	align-items: center;
	background-color: transparent;
	border-radius: 0;
	color: #111;
	display: flex;
	line-height: inherit;
	outline: solid 1px transparent;
	outline-offset: -1px;
	padding: rem(12) 0;
	width: 100%;

	@include mq($max-width) {

		display: inline-flex;

	}

	&[aria-expanded="false"] {

		@include mq($max-width) {

			.angle-up {

				display: none;

			}

		}

	}

	&[aria-expanded="true"] {

		@include mq($max-width) {

			.angle-down {

				display: none;

			}

		}

	}

}

.global-nav__inner .nav__submenu {

	border-bottom: solid 1px $border-color;
	min-height: calc(100% + 1px);
	padding-bottom: rem(45);
	padding-left: 5vw;
	padding-right: 5vw;
	width: 100%;

	@include mq($max-width) {

		border: solid 1px $border-color;
		box-shadow: 0 8px 16px 0 rgba(55,70,95,0.07);
		max-width: rem($max-width);
		min-height: auto;
		padding: rem(20);

	}

	&[aria-hidden="true"] {

		display: none;

	}

	&[aria-hidden="false"] {

		display: block;
		position: absolute;
		left: 0;
		top: 0;
		z-index: 5;

		@include mq($max-width) {

			background-color: $mist-gray;
			left: 50%;
			top: 100%;
			transform: translateX(-50%);

		}

	}

}

.global-nav__inner [data-trigger="mobile-back"] {

	@include txt-jupiter;

	border-color: transparent transparent $border-color;
	border-radius: 0;
	outline: solid 1px transparent;
	outline-offset: -1px;
	padding: rem(12) 5vw;

	@include mq($max-width) {

		display: none;

	}

}

[dir="ltr"] {

	[data-trigger="mobile-back"] .angle-right {

		display: none;

	}

}

[dir="rtl"] {

	[data-trigger="mobile-back"] .angle-left {

		display: none;

	}

}

.global-nav__inner .nav__submenu > a {

	@include txt-jupiter;

	font-weight: $emphasis;
	margin-top: rem(25);
	padding-bottom: rem(6);
	padding-top: rem(6);

	@include mq($max-width) {

		margin-bottom: rem(25);
		margin-top: 0;

	}

}

.global-nav__inner .nav__submenu > ul {

	@include mq($max-width) {

		columns: 3 rem(250);
		column-gap: rem(40);

	}

}

.global-nav__inner .nav__submenu > ul > li {

	border-bottom: solid 1px $border-color;
	padding-bottom: rem(3);
	padding-top: rem(3);

	@include mq($max-width) {

		border-bottom: 0;
		padding-bottom: 0;
		padding-top: 0;

	}

}

.global-nav__inner .nav__submenu > ul > li.has-children {

	@include mq($max-width) {

		break-inside: avoid;
		margin-bottom: rem(25);

		&:last-of-type {

			margin-bottom: 0;

		}

	}

}

.global-nav__inner .nav__submenu > ul > li > a {

	font-size: rem(18);
	padding-bottom: rem(9);
	padding-top: rem(9);

}

.global-nav__inner .nav__submenu ul ul {

	margin-inline-start: rem(10);

}

.global-nav__inner .nav__submenu .nav-link {

	&:hover {

		text-decoration: underline;
		text-decoration-skip-ink: auto;
		text-underline-offset: 0.25em;

	}

}